!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((n=n||self).cyano=n.cyano||{},n.React)}(this,function(n,e){"use strict";function t(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.forEach(function(e){r(n,e,t[e])})}return n}function a(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],o=!0,r=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);o=!0);}catch(n){r=!0,u=n}finally{try{o||null==c.return||c.return()}finally{if(r)throw u}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e=e&&e.hasOwnProperty("default")?e.default:e;var c=function(n,e){return function(){var t=!1,r=[],c=0,s=[],f=0,l=[],y=new Map,p=m.redraw,d=function(n){var e=f++,o=s[e]||[],r=void 0===n||!!Array.isArray(n)&&(n.length>0?!n.every(function(n,e){return n===o[e]}):!t);return s[e]=n,r},h=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t){if(d(t)){var o=function(){var n=e();"function"==typeof n&&(y.set(e,n),y.set("_",p))};l.push(n?function(){return new Promise(function(n){return requestAnimationFrame(n)}).then(o)}:o)}}},b=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n){return n},o=c++;return t||(r[o]=n),[r[o],function(n){var t=r[o],u=e(n,o);r[o]=u,u!==t&&p()}]},v=function(n,e){var o=d(e),r=a(t?b():b(n()),2),u=r[0],c=r[1];return t&&o&&c(n()),u},g={useState:function(n){return b(n,function(n,e){return"function"==typeof n?n(r[e]):n})},useEffect:h(!0),useLayoutEffect:h(),useReducer:function(n,e,o){var r=!t&&o?o(e):e,u=a(b(r),2),c=u[0],i=u[1];return[c,function(e){return i(n(c,e))}]},useRef:function(n){return a(b({current:n}),1)[0]},useMemo:v,useCallback:function(n,e){return v(function(){return n},e)}},w=u({},g,e&&e(g)),O=function(){l.forEach(i),l.length=0,f=0,c=0};return{view:function(e){return n(e,w)},oncreate:function(){return O(),t=!0},onupdate:O,onremove:function(){o(y.values()).forEach(i)}}}},i=Function.prototype.call.bind(Function.prototype.call),s=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!=e?e:function(){};return function(n){return c(function(e,t){return n(u({},e.attrs,t))})}(function(e){return n(u({},e,o(e),t))})},f={autocomplete:"autocomplete",autofocus:"autofocus",class:"class",className:"class",enctype:"enctype",formaction:"formaction",frameborder:"frameborder",maxlength:"maxlength",minlength:"minlength",onblur:"onblur",onchange:"onchange",onclick:"onclick",onfocus:"onfocus",oninput:"oninput",onkeydown:"onkeydown",onkeyup:"onkeyup",onmousedown:"onmousedown",onmouseout:"onmouseout",onmouseover:"onmouseover",onmouseup:"onmouseup",onscroll:"onscroll",onsubmit:"onsubmit",ontouchend:"ontouchend",ontouchmove:"ontouchmove",ontouchstart:"ontouchstart",readonly:"readonly",tabindex:"tabindex"},l=/([\.#]?[a-zA-Z0-9_:-]+)/,y=/^\.|#/,p=function(n,e){if(!n)return"div";var t,o,r,u,a=!("id"in e),c=n.split(l),i=null;y.test(c[1])&&(i="div");for(u=0;u<c.length;u++)(o=c[u])&&(r=o.charAt(0),i?"."===r?(t=t||[]).push(o.substring(1,o.length)):"#"===r&&a&&(e.id=o.substring(1,o.length)):i=o);t&&(e.className&&t.push(e.className),e.className=t.join(" "));return i?i.toLowerCase():"div"};var d=function n(t,o,r){if(1===arguments.length&&Array.isArray(t))return n(e.Fragment,null,t);!r&&("string"==typeof(u=o)||"number"==typeof u||Array.isArray(u))?(r=o,o={}):2===arguments.length&&(r=[]);var u;o=o?Object.assign({},o):{};o.dataset&&(Object.keys(o.dataset).forEach(function(n){var e=n.replace(/([a-z])([A-Z])/,function(n){return n[0]+"-"+n[1].toLowerCase()});o["data-"+e]=o.dataset[n]}),o.dataset=void 0);o.attributes&&(Object.keys(o.attributes).forEach(function(n){o[n]=o.attributes[n]}),o.attributes=void 0);"string"==typeof t&&(t=p(t,o));var a=[t,o].concat(r);return e.createElement.apply(e,a)};var h={autocomplete:"autoComplete",autofocus:"autoFocus",class:"className",className:"className",enctype:"encType",formaction:"formAction",frameborder:"frameBorder",maxlength:"maxLength",minlength:"minLength",onblur:"onBlur",onchange:"onChange",onclick:"onClick",onfocus:"onFocus",oninput:"onInput",onkeydown:"onKeyDown",onkeyup:"onKeyUp",onmousedown:"onMouseDown",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",readonly:"readOnly",tabindex:"tabIndex"};n.createMithrilComponent=function(n,e){return s(n,e,{renderer:m,htmlAttributes:f})},n.createReactComponent=function(n,e){for(var o=arguments.length,r=new Array(o>2?o-2:0),u=2;u<o;u++)r[u-2]=arguments[u];return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={useState:React.useState,useEffect:React.useEffect,useLayoutEffect:React.useLayoutEffect,useReducer:React.useReducer,useRef:React.useRef,useMemo:React.useMemo,useCallback:React.useCallback},a=null!=e?e(u):{};return n(function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable}))),r.forEach(function(e){t(n,e,o[e])})}return n}({renderer:d,htmlAttributes:h},u,a,r,o))}},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=cyano.js.map
