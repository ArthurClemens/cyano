!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("cyano")):"function"==typeof define&&define.amd?define(["cyano"],n):(e=e||self).polytheneReactRipple=n(e.cyano)}(this,function(e){"use strict";function n(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],i=!0,o=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(t.push(r.value),!n||t.length!==n);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var t=function(e,n){return e[n]=1,e},i=["key","style","href","id","tabIndex","tabindex","oninit","oncreate","onupdate","onbeforeremove","onremove","onbeforeupdate"],o="undefined"!=typeof document,a=!o,r={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},c=!a&&"ontouchstart"in document.documentElement,u=c?["click","mouseup"]:["mouseup"];if(o){var d=document.querySelector("html");d&&d.classList.add(c?"pe-touch":"pe-no-touch")}var s={},l=function(e,n){s[e]&&s[e].forEach(function(e){return e(n)})};o&&(window.addEventListener("resize",function(e){return l("resize",e)}),window.addEventListener("scroll",function(e){return l("scroll",e)}),window.addEventListener("keydown",function(e){return l("keydown",e)}),u.forEach(function(e){return window.addEventListener(e,function(n){return l(e,n)})}));var f="ease-out",m=function(){if(o){var e=document.createElement("fakeelement");for(var n in r)if(void 0!==e.style[n])return r[n]}}(),p=function(e){var n=e.e,t=e.id,i=e.el,o=e.props,r=e.classes;return new Promise(function(e){var u=document.createElement("div");u.setAttribute("class",r.mask),i.appendChild(u);var d=document.createElement("div");d.setAttribute("class",r.waves),u.appendChild(d);var s=i.getBoundingClientRect(),l=c&&n.touches?n.touches[0].pageX:n.clientX,p=c&&n.touches?n.touches[0].pageY:n.clientY,v=i.offsetWidth,h=i.offsetHeight,y=Math.sqrt(v*v+h*h),w=o.center?s.left+s.width/2:l,g=o.center?s.top+s.height/2:p,b=w-s.left-y/2,E=g-s.top-y/2,k=void 0!==o.startOpacity?o.startOpacity:.2,A=void 0!==o.opacityDecayVelocity?o.opacityDecayVelocity:.35,L=o.endOpacity||0,C=o.startScale||.1,O=o.endScale||2,x=o.duration?o.duration:1/A*.2,j=window.getComputedStyle(i).color,_=d.style;_.width=_.height=y+"px",_.top=E+"px",_.left=b+"px",_["animation-duration"]=_["-webkit-animation-duration"]=_["-moz-animation-duration"]=_["-o-animation-duration"]=x+"s",_.backgroundColor=j,_.opacity=k,_.animationName=t,_.animationTimingFunction=o.animationTimingFunction||f;var S="@keyframes ".concat(t," {\n      0% {\n        transform:scale(").concat(C,");\n        opacity: ").concat(k,"\n      }\n      100% {\n        transform:scale(").concat(O,");\n        opacity: ").concat(L,";\n      }\n    }");!function(e,n){if(!a){var t=window.document,i=t.createElement("style");i.setAttribute("id",e),i.appendChild(t.createTextNode(n)),t.head.appendChild(i)}}(t,S);d.addEventListener(m,function n(c){!function(e){if(!a){var n=document.getElementById(e);n&&n.parentNode&&n.parentNode.removeChild(n)}}(t),d.removeEventListener(m,n,!1),o.persistent?(_.opacity=L,_.transform="scale("+O+")"):(d.classList.remove(r.wavesAnimating),u.removeChild(d),i.removeChild(u)),e(c)},!1),d.classList.add(r.wavesAnimating)})},v={component:"pe-ripple",mask:"pe-ripple__mask",waves:"pe-ripple__waves",unconstrained:"pe-ripple--unconstrained",wavesAnimating:"pe-ripple__waves--animating"},h=function(){var t=n(e.useState({}),2),i=t[0],o=t[1];return[i,function(e,n){return o(Object.assign({},i,(r=n,(a=e)in(t={})?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t)));var t,a,r},function(e){var n=Object.assign({},i);delete n[e],o(n)}]};return e.cast(function(o){var a=n(e.useState(),2),r=a[0],c=a[1],d=n(h(),3),s=d[0],l=d[1],f=d[2],m=Object.keys(s).length>0,y=o.target||(r?r.parentElement:void 0),w=function(e){if(!(o.disabled||!o.multi&&m)){o.start&&o.start(e);var n="ripple_animation_".concat((new Date).getTime()),t=p({e:e,id:n,el:r,props:o,classes:v}).then(function(e){o.end&&o.end(e),f(n)});l(n,t)}};e.useEffect(function(){return y&&u.forEach(function(e){return y.addEventListener(e,w,!1)}),function(){y&&u.forEach(function(e){return y.removeEventListener(e,w,!1)})}},[y]);var g=Object.assign({},function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.add,a=n.remove,r=a?a.reduce(t,{}):{},c=(o?i.concat(o):i).filter(function(e){return!r[e]}).reduce(t,{});return Object.keys(e).reduce(function(n,t){return c[t]&&(n[t]=e[t]),n},{})}(o),e.getDom(function(e){return e&&!r&&c(e)}),o.testId&&{"data-test-id":o.testId},{className:[v.component,o.unconstrained?v.unconstrained:null,"dark"===o.tone?"pe-dark-tone":null,"light"===o.tone?"pe-light-tone":null,o.className||o[e.a.class]].join(" ")});return e.h(o.element||"div",g)})});
//# sourceMappingURL=polythene-react-ripple.js.map
