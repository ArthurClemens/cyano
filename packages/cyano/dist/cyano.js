!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril"),require("react")):"function"==typeof define&&define.amd?define(["exports","mithril","react"],e):e((n=n||self).cyano=n.cyano||{},n.m,n.react)}(this,function(n,e,t){"use strict";function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(e){o(n,e,t[e])})}return n}function u(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.forEach(function(e){a(n,e,t[e])})}return n}function i(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],o=!0,r=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);o=!0);}catch(n){r=!0,u=n}finally{try{o||null==c.return||c.return()}finally{if(r)throw u}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var s=function(n,t){return function(){var o=!1,r=[],a=0,s=[],l=0,m=[],y=new Map,p=e.redraw,d=function(n){var e=l++,t=s[e]||[],r=void 0===n||!!Array.isArray(n)&&(n.length>0?!n.every(function(n,e){return n===t[e]}):!o);return s[e]=n,r},h=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t){if(d(t)){var o=function(){var n=e();"function"==typeof n&&(y.set(e,n),y.set("_",p))};m.push(n?function(){return new Promise(function(n){return requestAnimationFrame(n)}).then(o)}:o)}}},b=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n){return n},t=a++;return o||(r[t]=n),[r[t],function(n){var o=r[t],u=e(n,t);r[t]=u,u!==o&&p()}]},v=function(n,e){var t=d(e),r=i(o?b():b(n()),2),u=r[0],a=r[1];return o&&t&&a(n()),u},g={useState:function(n){return b(n,function(n,e){return"function"==typeof n?n(r[e]):n})},useEffect:h(!0),useLayoutEffect:h(),useReducer:function(n,e,t){var r=!o&&t?t(e):e,u=i(b(r),2),a=u[0],c=u[1];return[a,function(e){return c(n(a,e))}]},useRef:function(n){return i(b({current:n}),1)[0]},useMemo:v,useCallback:function(n,e){return v(function(){return n},e)}},w=c({},g,t&&t(g)),O=function(){m.forEach(f),m.length=0,l=0,a=0};return{view:function(e){return n(e,w)},oncreate:function(){return O(),o=!0},onupdate:O,onremove:function(){u(y.values()).forEach(f)}}}},f=Function.prototype.call.bind(Function.prototype.call),l=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){return s(function(e,t){return n(c({},e.attrs,t))})}(function(o){var r=null!=e?e(o):{};return n(c({},o,r,t))})},m={autocomplete:"autocomplete",autofocus:"autofocus",class:"class",className:"class",enctype:"enctype",formaction:"formaction",frameborder:"frameborder",maxlength:"maxlength",minlength:"minlength",onblur:"onblur",onchange:"onchange",onclick:"onclick",onfocus:"onfocus",oninput:"oninput",onkeydown:"onkeydown",onkeyup:"onkeyup",onmousedown:"onmousedown",onmouseout:"onmouseout",onmouseover:"onmouseover",onmouseup:"onmouseup",onscroll:"onscroll",onsubmit:"onsubmit",ontouchend:"ontouchend",ontouchmove:"ontouchmove",ontouchstart:"ontouchstart",readonly:"readonly",tabindex:"tabindex"},y=/([\.#]?[a-zA-Z0-9_:-]+)/,p=/^\.|#/,d=function(n,e){if(!n)return"div";var t,o,r,u,a=!("id"in e),c=n.split(y),i=null;p.test(c[1])&&(i="div");for(u=0;u<c.length;u++)(o=c[u])&&(r=o.charAt(0),i?"."===r?(t=t||[]).push(o.substring(1,o.length)):"#"===r&&a&&(e.id=o.substring(1,o.length)):i=o);t&&(e.className&&t.push(e.className),e.className=t.join(" "));return i?i.toLowerCase():"div"};var h=function n(e,o,r){if(1===arguments.length&&Array.isArray(e))return n(t.Fragment,null,e);!r&&("string"==typeof(u=o)||"number"==typeof u||Array.isArray(u))?(r=o,o={}):2===arguments.length&&(r=[]);var u;o=o?Object.assign({},o):{};o.dataset&&(Object.keys(o.dataset).forEach(function(n){var e=n.replace(/([a-z])([A-Z])/,function(n){return n[0]+"-"+n[1].toLowerCase()});o["data-"+e]=o.dataset[n]}),o.dataset=void 0);o.attributes&&(Object.keys(o.attributes).forEach(function(n){o[n]=o.attributes[n]}),o.attributes=void 0);"string"==typeof e&&(e=d(e,o));var a=[e,o].concat(r);return t.createElement.apply(t,a)};var b={autocomplete:"autoComplete",autofocus:"autoFocus",class:"className",className:"className",enctype:"encType",formaction:"formAction",frameborder:"frameBorder",maxlength:"maxLength",minlength:"minLength",onblur:"onBlur",onchange:"onChange",onclick:"onClick",onfocus:"onFocus",oninput:"onInput",onkeydown:"onKeyDown",onkeyup:"onKeyUp",onmousedown:"onMouseDown",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",readonly:"readOnly",tabindex:"tabIndex"};n.createMithrilComponent=function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(n,t,r({h:e,a:m},o))},n.createReactComponent=function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={useState:t.useState,useEffect:t.useEffect,useLayoutEffect:t.useLayoutEffect,useReducer:t.useReducer,useRef:t.useRef,useMemo:t.useMemo,useCallback:t.useCallback},c=null!=e?e(a):{};return n(r({h:h,a:b},a,c,o,u))}},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=cyano.js.map
