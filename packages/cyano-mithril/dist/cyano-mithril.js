!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("mithril")):"function"==typeof define&&define.amd?define(["exports","mithril"],n):n((t=t||self)["cyano-mithril"]=t["cyano-mithril"]||{},t.m)}(this,function(t,n){"use strict";function e(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function o(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,u=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,u=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw u}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u;n=n&&n.hasOwnProperty("default")?n.default:n;var a=Function.prototype.call.bind(Function.prototype.call),i=function(){return n.redraw()},s=function(t){var n=u,e=n.depsIndex++,r=n.depsStates[e]||[],o=void 0===t||!!Array.isArray(t)&&(t.length>0?!t.every(function(t,n){return t===r[n]}):!n.setup);return n.depsStates[e]=t,o},c=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,e){var r=u;if(s(e)){var o=function(){var t=n();"function"==typeof t&&(r.teardowns.set(n,t),r.teardowns.set("_",i))};r.updates.push(t?function(){return new Promise(function(t){return requestAnimationFrame(t)}).then(o)}:o)}}},f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},e=u,r=e.statesIndex++;return e.setup||(e.states[r]=t),[e.states[r],function(t){var o=e.states[r],u=n(t,r);e.states[r]=u,u!==o&&i()}]},l=c(!0),d=c(),p=function(t,n){var e=u,r=s(n),a=o(e.setup?f():f(t()),2),i=a[0],c=a[1];return e.setup&&r&&c(t()),i},y=function(t,n){var o=function(t){var n=u;u=t.state;try{t.state.updates.forEach(a)}finally{Object.assign(t.state,{setup:!0,updates:[],depsIndex:0,statesIndex:0}),u=n}};return{oninit:function(t){Object.assign(t.state,{setup:!1,states:[],statesIndex:0,depsStates:[],depsIndex:0,updates:[],teardowns:new Map})},oncreate:o,onupdate:o,view:function(e){var o=u;u=e.state;try{return t(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(n){r(t,n,e[n])})}return t}({},n,e.attrs,{vnode:e,children:e.children}))}catch(t){console.error(t)}finally{u=o}},onremove:function(t){var n=u;u=t.state;try{e(t.state.teardowns.values()).forEach(a)}finally{u=n}}}},m=n,h=m.trust;m.trust=function(t,e){return e?n(e,h(t)):h(t)},m.displayName="mithril";var v=n;t.a={autocomplete:"autocomplete",autofocus:"autofocus",class:"class",className:"class",enctype:"enctype",formaction:"formaction",frameborder:"frameborder",maxlength:"maxlength",minlength:"minlength",onblur:"onblur",onchange:"onchange",onclick:"onclick",onfocus:"onfocus",oninput:"oninput",onkeydown:"onkeydown",onkeyup:"onkeyup",onmousedown:"onmousedown",onmouseout:"onmouseout",onmouseover:"onmouseover",onmouseup:"onmouseup",onscroll:"onscroll",onsubmit:"onsubmit",ontouchend:"ontouchend",ontouchmove:"ontouchmove",ontouchstart:"ontouchstart",readonly:"readonly",tabindex:"tabindex"},t.cast=function(t,n){return y(t,n)},t.getDom=function(t){return{oncreate:function(n){return t(n.dom)}}},t.h=m,t.jsx=v,t.useCallback=function(t,n){return p(function(){return t},n)},t.useEffect=l,t.useLayoutEffect=d,t.useMemo=p,t.useReducer=function(t,n,e){var r=!u.setup&&e?e(n):n,a=o(f(r),2),i=a[0],s=a[1];return[i,function(n){return s(t(i,n))}]},t.useRef=function(t){return o(f({current:t}),1)[0]},t.useState=function(t){var n=u;return f(t,function(t,e){return"function"==typeof t?t(n.states[e]):t})},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=cyano-mithril.js.map
