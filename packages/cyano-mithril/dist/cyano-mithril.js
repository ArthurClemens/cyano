!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mithril")):"function"==typeof define&&define.amd?define(["exports","mithril"],t):t((n=n||self).cyano=n.cyano||{},n.m)}(this,function(n,t){"use strict";function e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function r(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function u(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(t){o(n,t,e[t])})}return n}function c(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],r=!0,o=!1,u=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(n){o=!0,u=n}finally{try{r||null==i.return||i.return()}finally{if(o)throw u}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(n,e){return function(){var o=!1,i=[],f=0,l=[],s=0,y=[],m=new Map,p=t.redraw,b=function(n){var t=s++,e=l[t]||[],r=void 0===n||!!Array.isArray(n)&&(n.length>0?!n.every(function(n,t){return n===e[t]}):!o);return l[t]=n,r},d=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(b(e)){var r=function(){var n=t();"function"==typeof n&&(m.set(t,n),m.set("_",p))};y.push(n?function(){return new Promise(function(n){return requestAnimationFrame(n)}).then(r)}:r)}}},v=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n){return n},e=f++;return o||(i[e]=n),[i[e],function(n){var r=i[e],o=t(n,e);i[e]=o,o!==r&&p()}]},h=function(n,t){var e=b(t),r=c(o?v():v(n()),2),u=r[0],i=r[1];return o&&e&&i(n()),u},g={useState:function(n){return v(n,function(n,t){return"function"==typeof n?n(i[t]):n})},useEffect:d(!0),useLayoutEffect:d(),useReducer:function(n,t,e){var r=!o&&e?e(t):t,u=c(v(r),2),i=u[0],a=u[1];return[i,function(t){return a(n(i,t))}]},useRef:function(n){return c(v({current:n}),1)[0]},useMemo:h,useCallback:function(n,t){return h(function(){return n},t)}},w=u({},g,e&&e(g)),O=function(){y.forEach(a),y.length=0,s=0,f=0};return{view:function(t){return n(t,w)},oncreate:function(){return O(),o=!0},onupdate:O,onremove:function(){r(m.values()).forEach(a)}}}},a=Function.prototype.call.bind(Function.prototype.call),f=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){return i(function(t,e){return n(u({},t.attrs,e))})}(function(r){var o=null!=t?t(r):{};return n(u({},r,o,e))})},l={autocomplete:"autocomplete",autofocus:"autofocus",class:"class",className:"class",enctype:"enctype",formaction:"formaction",frameborder:"frameborder",maxlength:"maxlength",minlength:"minlength",onblur:"onblur",onchange:"onchange",onclick:"onclick",onfocus:"onfocus",oninput:"oninput",onkeydown:"onkeydown",onkeyup:"onkeyup",onmousedown:"onmousedown",onmouseout:"onmouseout",onmouseover:"onmouseover",onmouseup:"onmouseup",onscroll:"onscroll",onsubmit:"onsubmit",ontouchend:"ontouchend",ontouchmove:"ontouchmove",ontouchstart:"ontouchstart",readonly:"readonly",tabindex:"tabindex"};n.createComponent=function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(n,r,function(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(t){e(n,t,r[t])})}return n}({h:t,a:l},o))},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=cyano-mithril.js.map
